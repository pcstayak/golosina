@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design System Variables */
:root {
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";

  /* Core surfaces */
  --bg: #0b1220;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.085);
  --border: rgba(255,255,255,0.12);

  /* Text */
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.70);
  --faint: rgba(255,255,255,0.55);

  /* Brand */
  --primary: #1f7a6b;
  --primary-2: #2fb7a0;
  --primary-contrast: #081411;

  /* Status */
  --success: #34d399;
  --warning: #f7c948;
  --danger: #dc2626;

  /* Shadow */
  --shadow: 0 12px 30px rgba(0,0,0,0.28);
  --shadow-soft: 0 10px 24px rgba(0,0,0,0.18);

  /* Layout */
  --radius: 14px;
  --radius-sm: 10px;
  --gap: 16px;
  --max: 1180px;

  /* Decorative background glows */
  --bg-glow-1: rgba(31, 122, 107, 0.18);
  --bg-glow-2: rgba(47, 183, 160, 0.10);
  --bg-glow-3: rgba(52, 211, 153, 0.08);

  /* Recorder pulse */
  --pulse: rgba(220, 38, 38, 0.30);
}

/* Theme: Dusk (dark, calm, still fun) - default */
:root[data-theme="dusk"] {
  --bg: #0b1220;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.085);
  --border: rgba(255,255,255,0.12);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.70);
  --faint: rgba(255,255,255,0.55);
  --primary: #1f7a6b;
  --primary-2: #2fb7a0;
  --primary-contrast: #081411;
  --bg-glow-1: rgba(31, 122, 107, 0.18);
  --bg-glow-2: rgba(47, 183, 160, 0.10);
  --bg-glow-3: rgba(52, 211, 153, 0.08);
  --pulse: rgba(220, 38, 38, 0.30);
}

/* Theme: Mist (light but not white; easy on eyes) */
:root[data-theme="mist"] {
  --bg: #f2f3f8;
  --panel: rgba(255,255,255,0.78);
  --panel-2: rgba(255,255,255,0.94);
  --border: rgba(17, 24, 39, 0.10);
  --text: rgba(17, 24, 39, 0.92);
  --muted: rgba(17, 24, 39, 0.70);
  --faint: rgba(17, 24, 39, 0.55);
  --primary: #1f7a6b;
  --primary-2: #2fb7a0;
  --primary-contrast: #081411;
  --shadow: 0 14px 32px rgba(17,24,39,0.10);
  --shadow-soft: 0 10px 22px rgba(17,24,39,0.08);
  --bg-glow-1: rgba(31, 122, 107, 0.18);
  --bg-glow-2: rgba(47, 183, 160, 0.10);
  --bg-glow-3: rgba(52, 211, 153, 0.08);
  --pulse: rgba(220, 38, 38, 0.30);
}

/* Theme: Forest (dark, organic) */
:root[data-theme="forest"] {
  --bg: #081411;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.085);
  --border: rgba(255,255,255,0.12);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.70);
  --faint: rgba(255,255,255,0.55);
  --primary: #1f7a6b;
  --primary-2: #2fb7a0;
  --primary-contrast: #081411;
  --bg-glow-1: rgba(31, 122, 107, 0.18);
  --bg-glow-2: rgba(47, 183, 160, 0.10);
  --bg-glow-3: rgba(52, 211, 153, 0.08);
  --pulse: rgba(220, 38, 38, 0.30);
}

/* Theme: Sunset (warm, engaging, still calm) */
:root[data-theme="sunset"] {
  --bg: #130a12;
  --panel: rgba(255,255,255,0.06);
  --panel-2: rgba(255,255,255,0.09);
  --border: rgba(255,255,255,0.12);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.70);
  --faint: rgba(255,255,255,0.55);
  --primary: #1f7a6b;
  --primary-2: #2fb7a0;
  --primary-contrast: #081411;
  --bg-glow-1: rgba(31, 122, 107, 0.18);
  --bg-glow-2: rgba(47, 183, 160, 0.10);
  --bg-glow-3: rgba(52, 211, 153, 0.08);
  --pulse: rgba(220, 38, 38, 0.30);
}

/* Global styles */
html, body {
  height: 100%;
}

body {
  margin: 0;
  font-family: var(--font);
  color: var(--text);
  background:
    radial-gradient(900px 450px at 15% 10%, var(--bg-glow-1), transparent 60%),
    radial-gradient(900px 450px at 85% 0%, var(--bg-glow-2), transparent 55%),
    radial-gradient(900px 450px at 75% 80%, var(--bg-glow-3), transparent 55%),
    var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Record Button Pulse Animation */
@keyframes pulse-recording {
  0% {
    box-shadow: 0 0 0 0 var(--pulse);
  }
  70% {
    box-shadow: 0 0 0 16px transparent;
  }
  100% {
    box-shadow: 0 0 0 0 transparent;
  }
}

/* Component Utilities */
@layer components {
  /* Legacy support - keeping for backward compatibility */
  .waveform-container {
    @apply relative;
  }

  .waveform-loading {
    @apply flex items-end justify-center h-10 px-2;
  }

  .waveform {
    @apply flex items-end justify-between rounded-lg p-2 h-12 cursor-pointer transition-all duration-200 relative;
    background: rgba(255,255,255,0.03);
    border: 1px solid var(--border);
  }

  :root[data-theme="mist"] .waveform {
    background: rgba(17,24,39,0.02);
  }

  .waveform:hover {
    background: rgba(255,255,255,0.06);
  }

  :root[data-theme="mist"] .waveform:hover {
    background: rgba(17,24,39,0.04);
  }

  .waveform-bar {
    border-radius: 999px;
    transition: all 0.2s;
    width: 2px;
    min-height: 2px;
    background: linear-gradient(135deg, var(--primary), var(--primary-2));
  }

  .waveform-progress {
    @apply absolute top-0 bottom-0 w-0.5 pointer-events-none;
    background: var(--danger);
    transform: translateX(-50%);
  }
}